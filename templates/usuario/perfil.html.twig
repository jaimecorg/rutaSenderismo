{% extends 'base.html.twig' %}

{% block stylesheets %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
{% endblock %}

{% block body %}

    {% if usuario.id %}
        <h1>Perfil</h1>
    {% else %}
        <h1>Registrar usuario</h1>
    {% endif %}

    {{ form_start(form) }}
    {{ form_widget(form) }}

    <a href="{{ path('principal') }}" class="btn btn-info"><i class="bi bi-box-arrow-up-left"></i> Inicio</a>
    <button type="submit" class="btn btn-success">Guardar cambios</button>

    {{ form_end(form) }}

    <hr>

    <h3>Rutas</h3>

    {% if rutasUsuario is empty %}
        <p>No se han encontrado rutas para este usuario.</p>
    {% else %}
        {% for ruta in rutasUsuario %}
            <p>
                <span>{{ ruta.nombre }}</span>
                <<a href="{{ path('ruta_eliminar', {'id': ruta.id}) }}">Eliminar</a>
            </p>
        {% endfor %}
    {% endif %}

    <hr>

    <h3>Valoraciones</h3>

    {% if rutasUsuario is empty %}
        <p>No se han encontrado valoraciones para este usuario.</p>
    {% else %}
        {% for valoracion in valoracionesUsuario %}
            <p>
                <p>Nombre de la ruta: {{ valoracion.ruta.nombre }}</p>
                <p>Puntuaci√≥n: {{ valoracion.puntuacion }}</p>
                <p>Comentario: {{ valoracion.comentario }}</p>
                <<a href="{{ path('valoracion_eliminar', {'id': valoracion.id}) }}">Eliminar</a>
            </p>
        {% endfor %}
    {% endif %}

{% endblock %}

